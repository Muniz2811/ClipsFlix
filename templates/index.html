{% extends "base.html" %}

{% block content %}
<div class="index-bg"></div>
<div class="container">
    <h1 class="page-title"><span>Seus Clipes</span></h1>
    
    <div class="row clip-container">
        {% for clip in clips %}
        <div class="col-md-6 col-lg-4">
            <div class="clip-card">
                <div class="video-container">
                    <video controls class="cloudinary-video">
                        <source src="{{ clip.video_url }}" type="video/mp4">
                        Seu navegador não suporta vídeos.
                    </video>
                </div>
                <div class="clip-info">
                    <div class="clip-title">{{ clip.title }}</div>
                    <div class="clip-meta">
                        Por: {{ clip.author.username }}<br>
                        {{ clip.upload_date.strftime('%d/%m/%Y %H:%M') }}
                    </div>
                    <div class="clip-game">{{ clip.game }}</div>
                    {% if current_user.id == clip.user_id %}
                    <form action="{{ url_for('delete_clip', clip_id=clip.id) }}" method="POST" class="delete-form">
                        <button type="submit" class="btn-delete" onclick="return confirm('Tem certeza que deseja deletar este clip?')">
                            Deletar Clip
                        </button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
